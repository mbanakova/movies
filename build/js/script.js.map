{"version":3,"names":[],"mappings":"","sources":["script.js"],"sourcesContent":["\"use strict\";\n\nconst API_KEY = 'd440f9d3';\n$(document).ready(() => {\n  $('#searchText').focus();\n  $('#search-form').on('submit', e => {\n    let searchText = $('#searchText').val();\n    getMovies(searchText);\n    e.preventDefault();\n  });\n});\n\nfunction getMovies(searchText) {\n  axios.get(`https://www.omdbapi.com/?s=${searchText}&apikey=${API_KEY}`).then(response => {\n    console.log(response.data.Search);\n    let movies = response.data.Search;\n    let output = '';\n    $.each(movies, (index, movie) => {\n      output += `\n          <div class=\"card\">\n            <div class=\"card__poster\"  onclick=\"movieSelected('${movie.imdbID}')\">\n              <img src=\"${movie.Poster}\" alt=\"${movie.Title}\"></div>\n              <h5 class=\"card__title\">${movie.Title}</h5>\n              <a class=\"button\" onclick=\"movieSelected('${movie.imdbID}')\">More info</a> \n          </div>\n          `;\n    });\n    $('#movies').html(output);\n  }).catch(error => {\n    throw new Error(error);\n  });\n}\n\nfunction movieSelected(id) {\n  sessionStorage.setItem('movieId', id);\n  window.location = 'movie.html';\n  return false;\n}\n\nfunction getMovie() {\n  let movieId = sessionStorage.getItem('movieId');\n  axios.get(`https://www.omdbapi.com/?i=${movieId}&apikey=${API_KEY}`).then(response => {\n    console.log(response.data);\n    let movie = response.data;\n    let output = '';\n    let starring = movie.Actors.split(\",\");\n    let actors = '';\n    $.each(starring, (_, actor) => {\n      actors += `\n          <li class=\"actor\">${actor.trim()}</li>\n          `;\n    });\n    output += `\n        <div class=\"movie\">\n          <div class=\"movie__img-wrap\">\n            <a class=\"movie__poster\" href=\"http://imdb.com/title/${movie.imdbID}\">\n              <img src=\"${movie.Poster}\" alt=\"${movie.Title}\" class=\"thumbnail\">\n            </a>\n            <div class=\"movie__buttons-wrap\">\n              <a class=\"button\" href=\"http://imdb.com/title/${movie.imdbID}\" target=\"_blank\">imdb</a>\n              <a class=\"button button--secondary\" href=\"index.html\" target=\"_blank\">go back</a>\n            </div>\n          </div>\n\n          <div class=\"movie__description\">\n            <h1 class=\"movie__title\">${movie.Title} (${movie.Year})</h1>\n            <p class=\"movie__plot\">${movie.Plot}</p> \n          </div>\n\n          <ul class=\"movie__about\">\n            <li class=\"movie__about-item\"><span class=\"marker\">Rated:</span><span class=\"info\">${movie.Rated}</span></li>\n            <li class=\"movie__about-item\"><span class=\"marker\">Genre:</span><span class=\"info\">${movie.Genre}</span></li> \n            <li class=\"movie__about-item\"><span class=\"marker\">Director:</span><span class=\"info\">${movie.Director}</span></li>\n            <li class=\"movie__about-item\"><span class=\"marker\">Writer:</span><span class=\"info\">${movie.Writer}</span></li>\n            <li class=\"movie__about-item\"><span class=\"marker\">Runtime:</span><span class=\"info\">${movie.Runtime}</span></li>\n            <li class=\"movie__about-item\"><span class=\"marker\">Country:</span><span class=\"info\">${movie.Country}</span></li>\n            <li class=\"movie__about-item\"><span class=\"marker\">Released:</span><span class=\"info\">${movie.Released}</span></li>\n            <li class=\"movie__about-item\"><span class=\"marker\">BoxOffice:</span><span class=\"info\">${movie.BoxOffice}</span></li>\n          </ul>\n\n          <div class=\"movie__rates\">\n            <h3 class=\"movie__rates-imbd\">‚≠ê ${movie.imdbRating}</h3>\n            <h3 class=\"movie__votes\">on ${movie.imdbVotes} votes</h3>\n          </div>\n\n          <div class=\"movie__starring\">\n            <h3>Starring:</h3><ul class=\"info\">${actors}</ul>\n          </div>\n        </div>\n          `;\n    $('#movie').html(output);\n  }).catch(error => {\n    throw new Error(error);\n  });\n}"],"file":"script.js"}